(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{463:function(t,e,r){var content=r(510);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(20).default)("f6435528",content,!0,{sourceMap:!1})},509:function(t,e,r){"use strict";r(463)},510:function(t,e,r){var n=r(19)(!1);n.push([t.i,".file-loading[data-v-baacd76c]{-webkit-animation:loader-data-v-baacd76c 1s infinite;animation:loader-data-v-baacd76c 1s infinite;display:flex}@-webkit-keyframes loader-data-v-baacd76c{0%{transform:rotate(0)}to{transform:rotate(1turn)}}@keyframes loader-data-v-baacd76c{0%{transform:rotate(0)}to{transform:rotate(1turn)}}",""]),t.exports=n},518:function(t,e,r){"use strict";r.r(e);var n=r(23),o=(r(74),r(57),r(71),r(24),r(73),r(426)),l=r.n(o),c=r(429),d=r(454),v=r(455),f=r(456),h=r(457),m={components:{Table:c.default,AreaChart:d.default,DonutChart:v.default,HeatmapChart:f.default,ColumnAreaChart:h.default},filters:{fDate:function(t){return t=new Date(t),l()(t).format("dddd, MMM D, YYYY")},toHours:function(t){return Math.floor(t/3600)},toMin:function(t){return Math.floor(t/60)},toDay:function(t){return Math.floor(t/86400)},toKm:function(t){return Math.floor(t/1e3)}},data:function(){return{upload:!0,loading:!1,errMsg:null,greeting:"Hello",user:{},exercises:[],stats:{},dateRangePicker:!1,dateRange:[]}},created:function(){this.setGreeting()},methods:{showError:function(t){this.errMsg=t,this.upload=!1,this.loading=!1},resetData:function(){this.upload=!0,this.loading=!1,this.errMsg=null,this.greeting="Hello",this.user={},this.exercises=[],this.stats={},this.dateRangePicker=!1,this.dateRange=[],this.$axios.post("/api/file/delete")},addFile:function(t){var e=t.target.files[0];this.handleFileUpload(e)},dropFile:function(t){var e=t.dataTransfer.files[0];this.handleFileUpload(e)},handleFileUpload:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.type.includes("yaml")){r.next=3;break}return e.showError("Not YAML file"),r.abrupt("return");case 3:return e.loading=!0,(n=new FormData).set("file",t),r.prev=6,r.next=9,e.$axios.post("/api/file/upload",n,{header:{"Content-Type":"multipart/form-data"}}).then((function(t){e.getUser(),e.getExercises(),e.getStats()}));case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(6),e.showError(r.t0);case 14:case"end":return r.stop()}}),r,null,[[6,11]])})))()},setGreeting:function(){var t=(new Date).getHours(),e=t<12?0:t<18?1:2;this.greeting=["Good morning ","Good afternoon ","Good evening "][e]},getUser:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("getUser");case 3:t.user=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t.showError(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},getExercises:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("getExercises");case 3:t.exercises=e.sent,t.setDateRange(t.exercises),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.showError(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},setDateRange:function(t){var e=t[t.length-1].date.split("T")[0],r=t[0].date.split("T")[0];this.dateRange=[e,r],this.loading=!1,this.upload=!1},getStats:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("getStats");case 2:t.stats=e.sent;case 3:case"end":return e.stop()}}),e)})))()}},head:{title:"Dashboard"}},_=(r(509),r(70)),x=r(106),w=r.n(x),k=r(210),y=r(458),C=r(424),M=r(514),R=r(423),D=r(187),$=r(119),V=r(190),T=r(191),E=r(83),U=r(186),F=r(515),component=Object(_.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",[r("v-col",[t.errMsg?r("v-container",{attrs:{fluid:""}},[r("v-row",[r("v-col",[r("pre",[t._v(t._s(t.errMsg))])])],1)],1):t._e(),t._v(" "),r("v-container",{directives:[{name:"show",rawName:"v-show",value:t.upload,expression:"upload"}],attrs:{fluid:""}},[r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"6"}},[r("v-card",[r("v-card-title",[r("div",[t._v("\n                Upload your file\n                "),r("div",{staticClass:"subtitle-2 font-weight-regular text--secondary"},[t._v("\n                  File has to have YAML extension (.yml, .yaml)\n                ")])])]),t._v(" "),r("v-card-text",{staticClass:"grey text-center pa-1",class:t.$vuetify.theme.dark?"darken-3":"lighten-4"},[t.loading?r("div",{staticClass:"pa-14"},[r("v-progress-circular",{staticClass:"mt-10 mb-4",attrs:{indeterminate:"",size:60}}),t._v(" "),r("p",{staticClass:"subtitle-1"},[t._v("Loading your data...")]),t._v(" "),r("v-btn",{attrs:{text:"",small:"",disabled:""}},[t._v("or browse")])],1):r("div",{staticClass:"pa-14",attrs:{id:"dropzone"},on:{drop:function(e){return e.preventDefault(),t.dropFile.apply(null,arguments)},dragover:function(t){t.preventDefault()},click:function(e){return t.$refs.fileUpload.click()}}},[r("v-icon",{staticClass:"mt-10 mb-4",attrs:{size:"60"}},[t._v("\n                  mdi-folder-open\n                ")]),t._v(" "),r("p",{staticClass:"subtitle-1"},[t._v("Drag & Drop your files here")]),t._v(" "),r("v-btn",{attrs:{text:"",small:""},on:{click:function(e){return t.$refs.fileUpload.click()}}},[t._v("\n                  or browse\n                ")])],1)])],1)],1)],1),t._v(" "),r("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"fileUpload",attrs:{type:"file",name:"file",accept:".yaml, .yml"},on:{change:t.addFile}})],1),t._v(" "),t.loading||t.upload?t._e():r("v-container",{attrs:{fluid:""}},[r("v-row",[r("v-col",[r("v-list-item",{staticClass:"px-0",attrs:{"two-line":""}},[r("v-list-item-avatar",{attrs:{size:"68",color:t.$vuetify.theme.dark?"white black--text":"black white--text"}},[r("span",{staticClass:"headline"},[t._v("\n                "+t._s(t.user.firstName[0])+t._s(t.user.lastName[0])+"\n              ")])]),t._v(" "),r("v-list-item-content",[r("v-list-item-title",{staticClass:"headline text-wrap mb-1"},[t._v("\n                "+t._s(t.greeting)+" "+t._s(t.user.firstName)+"\n              ")]),t._v(" "),t.dateRange[0]?t._m(0):t._e()],1),t._v(" "),r("v-list-item-action",{staticClass:"d-none d-sm-flex"},[r("v-btn",{staticClass:"ma-2",attrs:{color:t.$vuetify.theme.dark?"white black--text":"black white--text",block:""},on:{click:function(e){return t.resetData()}}},[t._v("\n                Clear data\n                "),r("v-icon",{attrs:{right:"",dark:""}},[t._v("mdi-delete")])],1)],1)],1),t._v(" "),r("v-btn",{staticClass:"ma-2 white--text d-flex d-sm-none",attrs:{color:t.$vuetify.theme.dark?"white black--text":"black",block:""},on:{click:function(e){return t.resetData()}}},[t._v("\n            Clear data\n            "),r("v-icon",{attrs:{right:"",dark:""}},[t._v("mdi-delete")])],1)],1)],1)],1),t._v(" "),t.loading||t.upload?t._e():r("v-container",{attrs:{id:"stats",fluid:""}},[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[r("v-card",{attrs:{shaped:""}},[r("v-card-title",{staticClass:"display-2"},[t._v("\n              "+t._s(t.stats.totalExercises)+"\n            ")]),t._v(" "),r("v-card-text",[t._v("Total exercises")])],1)],1),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[r("v-card",{attrs:{shaped:""}},[r("v-card-title",{staticClass:"display-2"},[t._v("\n              "+t._s(t._f("toHours")(t.stats.secondsTrained))+"\n            ")]),t._v(" "),r("v-card-text",[t._v("\n              Hours trained or "+t._s(t._f("toDay")(t.stats.secondsTrained))+" days\n            ")])],1)],1),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[r("v-card",{attrs:{shaped:""}},[r("v-card-title",{staticClass:"display-2"},[t._v("\n              "+t._s(t.stats.totalStars)+"\n            ")]),t._v(" "),r("v-card-text",[t._v("Earned stars")])],1)],1),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[r("v-card",{attrs:{shaped:""}},[r("v-card-title",{staticClass:"display-2"},[t._v("\n              "+t._s(t.stats.totalMeters)+"\n            ")]),t._v(" "),r("v-card-text",[t._v("\n              Meters ran or "+t._s(t._f("toKm")(t.stats.totalMeters))+" km\n            ")])],1)],1)],1)],1),t._v(" "),t.loading||t.upload?t._e():r("v-container",{attrs:{id:"charts",fluid:""}},[r("v-row",[r("v-col",{staticClass:"mb-3",attrs:{cols:"12"}},[r("area-chart",{attrs:{data:t.exercises,theme:t.$vuetify.theme.dark?"dark":"light"}})],1)],1),t._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12",lg:"4"}},[r("donut-chart",{attrs:{data:t.exercises,theme:t.$vuetify.theme.dark?"dark":"light"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6",lg:"4"}},[r("v-card",[r("v-card-title",[r("div",[t._v("\n                Active days\n                "),r("div",{staticClass:"subtitle-2 font-weight-regular text--secondary"},[t._v("\n                  Trainings by time of day\n                ")])])]),t._v(" "),r("v-card-text",[r("heatmap-chart",{attrs:{data:t.exercises,theme:t.$vuetify.theme.dark?"dark":"light"}})],1)],1)],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6",lg:"4"}},[r("v-card",[r("v-card-title",[r("div",[t._v("\n                Running log\n                "),r("div",{staticClass:"subtitle-2 font-weight-regular text--secondary"},[t._v("\n                  Runs per month\n                ")])])]),t._v(" "),r("v-card-text",[r("column-area-chart",{attrs:{data:t.exercises,theme:t.$vuetify.theme.dark?"dark":"light"}})],1)],1)],1)],1)],1),t._v(" "),t.loading||t.upload?t._e():r("v-container",{attrs:{id:"table",fluid:""}},[r("v-row",[r("v-col",[r("Table",{attrs:{data:t.exercises}})],1)],1)],1)],1)],1)}),[function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-list-item-subtitle",{staticClass:"subtitle-2 text-wrap"},[t._v("\n                Here are your stats from\n                "+t._s(t._f("fDate")(t.dateRange[0]))+"\n              ")])}],!1,null,"baacd76c",null);e.default=component.exports;w()(component,{Table:r(429).default}),w()(component,{VBtn:k.a,VCard:y.a,VCardText:C.a,VCardTitle:C.b,VCol:M.a,VContainer:R.a,VIcon:D.a,VListItem:$.a,VListItemAction:V.a,VListItemAvatar:T.a,VListItemContent:E.a,VListItemSubtitle:E.b,VListItemTitle:E.c,VProgressCircular:U.a,VRow:F.a})}}]);